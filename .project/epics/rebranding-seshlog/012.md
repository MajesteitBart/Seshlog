---
name: Add Newsreader font and update typography
status: closed
created: 2026-01-28T22:48:22Z
updated: 2026-01-29T15:49:51Z
github: [Will be updated when synced to GitHub]
depends_on: []
parallel: true
conflicts_with: [011]
---

# Task: Add Newsreader font and update typography

## Description

Integrate the Newsreader font from Google Fonts and update typography configuration to match the Seshlog brandbook. Newsreader is an editorial serif that gives the app a distinctive, professional feel.

## Acceptance Criteria

- [x] Newsreader font loads from Google Fonts CDN
- [x] All UI text uses Newsreader as primary font
- [x] Font weights 300-700 available (regular and italic)
- [x] Typography scale matches brandbook specifications
- [ ] No visible FOUT (Flash of Unstyled Text) or major layout shift (verify with Task 015)
- [x] CSP (Content Security Policy) updated to allow Google Fonts

## Technical Details

### Files to Modify

**1. `frontend/src/app/globals.css` - Add font import:**
```css
@import url('https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,300..700;1,6..72,300..700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;
```

**2. `frontend/tailwind.config.ts` - Update font family and scale:**
```typescript
import type { Config } from "tailwindcss";

export default {
  content: [...],
  theme: {
    extend: {
      fontFamily: {
        sans: ['Newsreader', 'Georgia', 'serif'],
        serif: ['Newsreader', 'Georgia', 'serif'],
        mono: ['Newsreader', 'Georgia', 'serif'], // or keep monospace for code
      },
      colors: {
        // ... existing colors
        primary: "hsl(38, 92%, 50%)",    // Amber 500
        secondary: "hsl(40, 11%, 93%)",  // Muted
        accent: "hsl(32, 95%, 44%)",     // Amber 600
        destructive: "hsl(0, 84%, 60%)", // Red
      },
      fontSize: {
        'display': ['2.5rem', { lineHeight: '1.15', fontWeight: '700', letterSpacing: '-0.02em' }],
        'h1': ['1.75rem', { lineHeight: '1.25', fontWeight: '600', letterSpacing: '-0.015em' }],
        'h2': ['1.25rem', { lineHeight: '1.35', fontWeight: '600' }],
        'body': ['1.0625rem', { lineHeight: '1.75', fontWeight: '400' }],  // 17px for readability
        'ui': ['1rem', { lineHeight: '1.6', fontWeight: '400' }],
        'small': ['0.875rem', { lineHeight: '1.5', fontWeight: '400' }],
        'caption': ['0.75rem', { lineHeight: '1.4', fontWeight: '500' }],
        'speaker': ['0.9375rem', { lineHeight: '1.6', fontWeight: '500' }], // 15px italic for speakers
      },
    },
  },
  plugins: [
    require('@tailwindcss/typography'),
  ],
} satisfies Config;
```

**3. `frontend/src-tauri/tauri.conf.json` - Update CSP for Google Fonts:**
```json
"security": {
  "csp": {
    "default-src": "'self'",
    "style-src": "'self' 'unsafe-inline' https://fonts.googleapis.com",
    "font-src": "'self' https://fonts.gstatic.com",
    "img-src": "'self' asset: https://asset.localhost data:",
    "connect-src": "'self' http://localhost:11434 http://localhost:8178 https://api.ollama.ai https://api.deepgram.com wss://api.deepgram.com"
  }
}
```

### Typography Scale Reference (from brandbook)

| Style | Size | Weight | Usage |
|-------|------|--------|-------|
| Display | 2.5rem (40px) | 700 | Hero text |
| Heading 1 | 1.75rem (28px) | 600 | Page titles |
| Heading 2 | 1.25rem (20px) | 600 | Section titles |
| Body | 1.0625rem (17px) | 400 | Transcript text |
| UI Body | 1rem (16px) | 400 | Interface text |
| Small | 0.875rem (14px) | 400 | Secondary info |
| Caption | 0.75rem (12px) | 500 | Timestamps |
| Speaker | 0.9375rem (15px) | 500 italic | Speaker names |

### Verification
1. Start dev server and inspect any text element
2. DevTools → Computed → font-family should show "Newsreader"
3. Check that italic text renders with true italics (not slanted)
4. Verify no console errors about blocked fonts

## Dependencies

- [ ] Google Fonts CDN accessible
- [ ] Task 011 should be coordinated (both modify globals.css)

## Effort Estimate

- Size: S
- Hours: 0.5
- Parallel: true (coordinate with 011 on globals.css edits)

## Definition of Done

- [x] Newsreader font import added to globals.css
- [x] Tailwind config updated with font family
- [x] CSP updated to allow Google Fonts
- [ ] All text renders in Newsreader (verify with Task 015)
- [x] Typography scale classes available
- [ ] No console errors or blocked resources (verify with Task 015)

## Completion Notes

**Initially Completed:** 2026-01-29T08:33:09Z
**Fixed:** 2026-01-29T15:49:51Z

### Original Changes (Incomplete)

**globals.css:**
- Added Google Fonts import for Newsreader (variable font, weights 300-700, italic support)

**tailwind.config.ts:**
- Set `fontFamily.sans` and `fontFamily.serif` to Newsreader with Georgia fallback
- Updated color definitions to use CSS variables with `hsl(var(--...))` syntax
- Added typography scale from brandbook (display, h1, h2, body, ui, small, caption, speaker)
- Added status color utilities (recording, processing, success)
- Added borderRadius configuration using CSS variable

**tauri.conf.json:**
- Added `style-src` CSP for fonts.googleapis.com
- Added `font-src` CSP for fonts.gstatic.com

### Fix Applied (2026-01-29)

**Root Cause:** The `layout.tsx` was still importing and applying `Source_Sans_3` font from Next.js, which overrode the Tailwind configuration.

**layout.tsx changes:**
- Replaced `import { Source_Sans_3 } from 'next/font/google'` → `import { Newsreader } from 'next/font/google'`
- Updated font config to use Newsreader with weights 300-700 and italic styles
- Changed CSS variable from `--font-source-sans-3` to `--font-newsreader`
- Updated body class to use `${newsreader.variable}`

**tailwind.config.ts update:**
- Added `var(--font-newsreader)` as first font in fontFamily.sans and fontFamily.serif
- This ensures Next.js optimized font loading takes priority
