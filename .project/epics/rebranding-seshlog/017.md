---
name: Update component colors to use theme variables
status: closed
created: 2026-01-29T14:55:10Z
updated: 2026-01-29T15:27:44Z
github: [Will be updated when synced to GitHub]
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Update component colors to use theme variables

## Description

Components throughout the codebase use hardcoded Tailwind color classes (like `bg-red-500`, `bg-blue-100`) instead of the theme variables defined in `globals.css`. This prevents the amber brand colors from being applied.

**Scope:** 83 occurrences across 35 files need updating.

## Acceptance Criteria

- [x] All `bg-red-500` (primary action) replaced with `bg-primary`
- [x] All `bg-blue-*` (highlights/active states) replaced with `bg-primary/*` variants
- [x] All `text-blue-*` replaced with `text-primary` variants
- [x] Recording button uses `bg-primary` when idle, `bg-recording` when recording
- [x] Active/selected states use amber tones, not blue
- [x] No hardcoded red/blue colors remain for brand elements (destructive red is OK)

## Technical Details

### Color Mapping

| Old (Hardcoded) | New (Theme Variable) | Usage |
|-----------------|---------------------|-------|
| `bg-red-500` | `bg-primary` | Primary buttons, CTAs |
| `bg-red-600` | `bg-primary hover:bg-accent` | Button hover states |
| `hover:bg-red-600` | `hover:bg-accent` | Hover effects |
| `bg-blue-100` | `bg-primary/10` | Active/selected backgrounds |
| `bg-blue-50` | `bg-primary/5` | Subtle highlights |
| `text-blue-700` | `text-primary` | Active text |
| `text-blue-600` | `text-primary` | Link/action text |
| `bg-red-300` | `bg-primary/50` | Disabled states |

### Recording States (Special Case)

The recording button has specific states that should use status colors:
- **Idle:** `bg-primary` (amber) - ready to record
- **Recording:** `bg-recording` (red) - actively recording
- **Processing:** `bg-processing` (purple) - processing transcript

### Files to Update (Priority Order)

**High Impact (User-facing):**
1. `Sidebar/index.tsx` - 7 occurrences
2. `RecordingControls.tsx` - 5 occurrences
3. `Logo.tsx` - 1 occurrence
4. `TranscriptView.tsx` - 2 occurrences
5. `VirtualizedTranscriptView.tsx` - 3 occurrences

**Medium Impact:**
6. `About.tsx` - 2 occurrences
7. `ChunkProgressDisplay.tsx` - 6 occurrences
8. `ModelSettingsModal.tsx` - 4 occurrences
9. `AnalyticsConsentSwitch.tsx` - 4 occurrences
10. `WhisperModelManager.tsx` - 4 occurrences
11. `ParakeetModelManager.tsx` - 4 occurrences

**Lower Impact (Settings/Modals):**
- Remaining 24 files with 1-3 occurrences each

### Search Commands

```bash
# Find all hardcoded colors
grep -rn "bg-red-500\|bg-blue-100\|text-blue-700\|bg-blue-50\|text-blue-600" frontend/src/

# Find recording button specifically
grep -rn "isRecording.*bg-red" frontend/src/
```

### Example Transformations

**Before (Sidebar recording button):**
```tsx
className={`p-2 ${isRecording ? 'bg-red-500 cursor-not-allowed' : 'bg-red-500 hover:bg-red-600'} rounded-full`}
```

**After:**
```tsx
className={`p-2 ${isRecording ? 'bg-recording cursor-not-allowed' : 'bg-primary hover:bg-accent'} rounded-full`}
```

**Before (Active state):**
```tsx
className={`${isActive ? 'bg-blue-100 text-blue-700' : 'hover:bg-gray-50'}`}
```

**After:**
```tsx
className={`${isActive ? 'bg-primary/10 text-primary' : 'hover:bg-muted'}`}
```

## Dependencies

- [x] Task 011 (CSS variables already set up)
- [x] Task 012 (Tailwind config already updated)

## Effort Estimate

- Size: M
- Hours: 2-3
- Parallel: true (can be done alongside task 016)

## Definition of Done

- [x] No `bg-red-500` for primary actions (only `bg-recording` for recording state)
- [x] No `bg-blue-*` or `text-blue-*` for brand colors
- [x] Primary buttons are amber in light mode
- [x] Active states use amber tones
- [x] Recording indicator is red only when recording
- [ ] Visual QA confirms amber theme throughout

## Completion Notes

### Files Modified (33 files total)

**High Impact:**
1. `frontend/src/components/Sidebar/index.tsx` - Recording buttons, active states, search indicators, edit modal
2. `frontend/src/components/RecordingControls.tsx` - Start/stop buttons, progress bar, audio visualizer
3. `frontend/src/components/Logo.tsx` - Brand background color
4. `frontend/src/components/TranscriptView.tsx` - Listening indicators
5. `frontend/src/components/VirtualizedTranscriptView.tsx` - Listening indicators

**Medium Impact:**
6. `frontend/src/components/About.tsx` - Update notification, CTA button, coming soon section
7. `frontend/src/components/ChunkProgressDisplay.tsx` - Progress bars, processing states, time estimates
8. `frontend/src/components/AnalyticsConsentSwitch.tsx` - Info panel styling
9. `frontend/src/components/AnalyticsDataModal.tsx` - Shield icon, disable button (uses destructive)
10. `frontend/src/components/AudioBackendSelector.tsx` - Selected state, active badge
11. `frontend/src/components/WhisperModelManager.tsx` - Selected state, badges, download buttons
12. `frontend/src/components/ParakeetModelManager.tsx` - Selected state, badges, download buttons
13. `frontend/src/components/ModelSettingsModal.tsx` - Download buttons, progress bars, save button
14. `frontend/src/components/ModelDownloadProgress.tsx` - Progress bars, text colors
15. `frontend/src/components/BuiltInModelManager.tsx` - Selected badge

**Lower Impact:**
16. `frontend/src/components/ui/button.tsx` - Blue and red variants now use theme colors
17. `frontend/src/components/RecordingStatusBar.tsx` - Recording indicator
18. `frontend/src/lib/recordingNotification.tsx` - Checkbox styling
19. `frontend/src/app/meeting-details/page.tsx` - Go back button
20. `frontend/src/app/settings/page.tsx` - Tab indicator
21. `frontend/src/app/notes/[id]/page.tsx` - Tag pills
22. `frontend/src/app/_components/SettingsModal.tsx` - Selection rings, buttons, toggles
23. `frontend/src/components/AISummary/Block.tsx` - Selection state
24. `frontend/src/components/AISummary/index.tsx` - Loading state
25. `frontend/src/components/LanguageSelection.tsx` - Translation mode panel
26. `frontend/src/components/DatabaseImport/LegacyDatabaseImport.tsx` - Browse button
27. `frontend/src/components/DatabaseImport/HomebrewDatabaseDetector.tsx` - Detection panel
28. `frontend/src/components/RecordingSettings.tsx` - File format info panel
29. `frontend/src/components/PermissionWarning.tsx` - Settings button
30. `frontend/src/components/PreferenceSettings.tsx` - Note panel
31. `frontend/src/components/MeetingDetails/SummaryPanel.tsx` - Processing status
32. `frontend/src/components/UpdateNotification.tsx` - View details link
33. `frontend/src/components/UpdateDialog.tsx` - Icons, progress bar, buttons

### Color Mapping Applied:
- `bg-red-500` (for primary actions) -> `bg-primary`
- `bg-red-500` (for recording state) -> `bg-recording`
- `bg-red-300` (disabled) -> `bg-recording/50`
- `bg-blue-50/100` -> `bg-primary/5` or `bg-primary/10`
- `text-blue-600/700` -> `text-primary`
- `border-blue-*` -> `border-primary` or `border-primary/*`
- `ring-blue-*` -> `ring-primary`
- `focus:ring-blue-*` -> `focus:ring-primary`
- `hover:bg-gray-50` -> `hover:bg-muted`

### Remaining Red (Appropriate Uses):
- `AudioLevelMeter.tsx` - High audio level indicator
- `ConfidenceIndicator.tsx` - Low confidence warning
- `confirmation-modal.tsx` - Destructive action button
- `ParakeetModelManager.tsx` & `WhisperModelManager.tsx` - Retry buttons (error state)
- `StatusIndicator.tsx` - Error state indicator
