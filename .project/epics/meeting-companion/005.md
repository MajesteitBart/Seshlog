---
name: Build PrepPanel component
status: closed
created: 2026-01-22T21:05:26Z
updated: 2026-01-23T13:14:02Z
github: pending-sync
depends_on: [002]
parallel: false
conflicts_with: [006]
completion_notes: PrepPanel component created with collapsible sections for Agenda, Notes, Action Items, Goals, Context. Badge and Checkbox UI components added. Test page at /test-prep verified working.
---

# Task: Build PrepPanel component

## Description

Create a React component to display the parsed meeting prep content (Goals, Agenda, Context) in a read-only side panel. This shows the user their preparation notes during the meeting.

## Acceptance Criteria

- [ ] `PrepPanel.tsx` component created
- [ ] Displays meeting title from file
- [ ] Shows date/time from frontmatter (time_start, time_end)
- [ ] Shows attendees as badges
- [ ] Shows Agenda as bullet list
- [ ] Shows Notes section (rendered markdown)
- [ ] Shows Action Items as checkbox list (read-only during meeting)
- [ ] Collapsible sections for each category
- [ ] Handles empty/missing sections gracefully
- [ ] Responsive design (collapses on mobile)

## Technical Details

### File to Create

```
frontend/src/app/_components/PrepPanel.tsx
```

### Obsidian Meeting Template Format

The user's Obsidian meeting template uses this format (English version):

```markdown
---
tags: meeting
date: 2026-01-23
time_start: 2026-01-23T10:00:00
time_end:
attendees:
  - Bart van der Meeren
---

## Agenda
-

## Notes
-

## Action Items
- [ ]
```

### Component Interface

```typescript
interface PrepPanelProps {
  meetingPrep: MeetingPrep | null;
  isLoading: boolean;
}

interface MeetingPrep {
  file_path: string;
  frontmatter: {
    tags?: string | string[];
    date?: string;
    time_start?: string;
    time_end?: string;
    attendees?: string[];
  };
  title: string;
  agenda: string[];      // From ## Agenda section
  notes: string[];       // From ## Notes section
  action_items: string[]; // From ## Action Items section (checkbox items)
}
```

### Component Structure

```tsx
export function PrepPanel({ meetingPrep, isLoading }: PrepPanelProps) {
  if (isLoading) return <PrepPanelSkeleton />;
  if (!meetingPrep) return <EmptyPrepState />;

  return (
    <div className="flex flex-col h-full overflow-y-auto p-4">
      {/* Meeting Title */}
      <h2 className="text-lg font-semibold mb-2">{meetingPrep.title}</h2>

      {/* Date/Time Info */}
      {meetingPrep.frontmatter.time_start && (
        <div className="text-sm text-muted-foreground mb-2">
          <Clock className="w-4 h-4 inline mr-1" />
          {formatDateTime(meetingPrep.frontmatter.time_start)}
          {meetingPrep.frontmatter.time_end && ` - ${formatTime(meetingPrep.frontmatter.time_end)}`}
        </div>
      )}

      {/* Attendees Badges */}
      {meetingPrep.frontmatter.attendees && (
        <div className="flex flex-wrap gap-1 mb-4">
          {meetingPrep.frontmatter.attendees.map(a => (
            <Badge key={a} variant="secondary">{a}</Badge>
          ))}
        </div>
      )}

      {/* Agenda Section */}
      <CollapsibleSection title="Agenda" defaultOpen>
        <ul className="list-disc list-inside space-y-1">
          {meetingPrep.agenda.map((item, i) => (
            <li key={i}>{item}</li>
          ))}
        </ul>
      </CollapsibleSection>

      {/* Notes Section */}
      <CollapsibleSection title="Notes" defaultOpen>
        <div className="prose prose-sm dark:prose-invert">
          {meetingPrep.notes.map((note, i) => (
            <p key={i}>{note}</p>
          ))}
        </div>
      </CollapsibleSection>

      {/* Action Items Section */}
      <CollapsibleSection title="Action Items" defaultOpen>
        <ul className="space-y-2">
          {meetingPrep.action_items.map((item, i) => (
            <li key={i} className="flex items-start gap-2">
              <Checkbox disabled checked={item.startsWith('[x]')} />
              <span>{item.replace(/^\[[ x]\]\s*/, '')}</span>
            </li>
          ))}
        </ul>
      </CollapsibleSection>
    </div>
  );
}
```

### Existing Components to Reuse

- `Badge` from shadcn/ui (already in project)
- `Checkbox` from shadcn/ui
- `Collapsible` from Radix UI (already installed)
- `ReactMarkdown` (already installed as `react-markdown`)

### Styling

- Match existing dark theme
- Use Tailwind classes consistent with codebase
- Scrollable content area
- Fixed width (will be ~1/3 of screen in two-panel layout)

### Empty State

```tsx
function EmptyPrepState() {
  return (
    <div className="flex flex-col items-center justify-center h-full text-muted-foreground">
      <FileText className="w-12 h-12 mb-4" />
      <p>No meeting file loaded</p>
      <p className="text-sm">Open a meeting prep file to get started</p>
    </div>
  );
}
```

## Dependencies

- [ ] Task 002 (Obsidian parser) - need `MeetingPrep` type definition

## Effort Estimate

- Size: S
- Hours: 3
- Parallel: false (frontend work, conflicts with layout task)

## Definition of Done

- [ ] Component renders without errors
- [ ] All sections display correctly with sample data
- [ ] Empty state shows when no file loaded
- [ ] Sections collapse/expand properly
- [ ] Matches existing app styling
- [ ] Responsive on different screen sizes
- [ ] Code reviewed
